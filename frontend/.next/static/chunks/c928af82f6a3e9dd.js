(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,89942,(e,t,r)=>{t.exports=e.r(30755)},27941,e=>{"use strict";e.s(["default",()=>d],27941);var t=e.i(90678),r=e.i(68960),a=e.i(89942),s=e.i(148),l=e.i(22394);e.i(39255);var n=e.i(52707);function i(){var e;let i=(0,a.useSearchParams)().get("uid")||(null==(e=l.auth.currentUser)?void 0:e.uid),[o,c]=(0,r.useState)(.5),[d,u]=(0,r.useState)(.5),[m,g]=(0,r.useState)(!1),[x,h]=(0,r.useState)("üòê"),f=(0,a.useRouter)(),v=(0,r.useRef)();(0,r.useEffect)(()=>{i&&(async()=>{try{let e=(0,n.doc)(l.db,"stressLevels",i),t=await (0,n.getDoc)(e);if(t.exists()){let e=t.data().stressLevel/10;c(e),u(e)}}catch(e){console.error("Error loading stress level:",e)}})()},[i]),(0,r.useEffect)(()=>{let e=()=>{u(e=>{let t=o-e;return .001>Math.abs(t)?o:e+.1*t}),v.current=requestAnimationFrame(e)};return v.current=requestAnimationFrame(e),()=>cancelAnimationFrame(v.current)},[o]),(0,r.useEffect)(()=>{d<.33?h("üòä"):d<.66?h("üòê"):h("üò¢")},[d]);let b=async()=>{if(!i)return void alert("User not found! Please login.");try{var e,t;g(!0);let r=Math.round(10*o);await (0,n.setDoc)((0,n.doc)(l.db,"stressLevels",i),{stressLevel:r,updatedAt:new Date,email:(null==(e=l.auth.currentUser)?void 0:e.email)||"unknown"}),await (0,n.addDoc)((0,n.collection)(l.db,"moodEntries"),{uid:i,email:(null==(t=l.auth.currentUser)?void 0:t.email)||"unknown",stressLevel:r,timestamp:new Date}),alert("Stress level saved successfully ‚úÖ"),f.push("/student/dashboard")}catch(e){console.error("Error saving stress level:",e),alert("Error saving stress level ‚ùå")}finally{g(!1)}};return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center w-full max-w-md rounded-xl p-8 space-y-6 transition-colors duration-500 ".concat(d<.33?"bg-green-200":d<.66?"bg-yellow-200":"bg-red-200"),children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-800 text-center",children:"Daily Stress Meter"}),(0,t.jsx)("div",{className:"text-6xl animate-bounce",children:x}),(0,t.jsx)(s.default,{id:"animated-gauge",nrOfLevels:20,colors:["#00FF00","#33FF00","#66FF00","#99FF00","#CCFF00","#FFFF00","#FFCC00","#FF9900","#FF6600","#FF3300","#FF0000"],percent:d,arcPadding:.02,needleColor:"#333333",needleBaseColor:"#333333",animate:!1,textColor:"#000",formatTextValue:()=>"".concat(Math.round(10*d)," / 10")}),(0,t.jsx)("input",{type:"range",min:0,max:1,step:.01,value:o,onChange:e=>c(parseFloat(e.target.value)),className:"w-full h-2 bg-gray-300 rounded-lg accent-indigo-600"}),(0,t.jsxs)("p",{className:"text-lg font-semibold",children:["Selected Level: ",Math.round(10*o)," / 10"]}),(0,t.jsx)("button",{onClick:b,disabled:m,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-xl shadow-lg disabled:opacity-50 transition-transform transform hover:scale-105",children:m?"Saving...":"Submit Stress Level"})]})}let o=["Keep going, you're doing great!","Breathe in, breathe out, and relax.","Every day is a fresh start.","Your feelings are valid.","Small steps lead to big changes.","You are stronger than you think.","Take a deep breath and smile."];function c(){let[e,a]=(0,r.useState)("");return(0,r.useEffect)(()=>{a(o[Math.floor(Math.random()*o.length)])},[]),(0,t.jsxs)("div",{className:"text-center max-w-lg",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Daily Inspiration"}),(0,t.jsx)("p",{className:"text-xl italic leading-relaxed",children:e})]})}function d(){return(0,t.jsxs)("div",{className:"min-h-screen flex flex-col lg:flex-row",children:[(0,t.jsx)("div",{className:"lg:w-1/2 bg-gradient-to-br from-purple-400 to-indigo-600 flex items-center justify-center p-8 text-white",children:(0,t.jsx)(c,{})}),(0,t.jsx)("div",{className:"lg:w-1/2 bg-gray-100 flex items-center justify-center p-8",children:(0,t.jsx)(i,{userId:"demo_user_123"})})]})}}]);