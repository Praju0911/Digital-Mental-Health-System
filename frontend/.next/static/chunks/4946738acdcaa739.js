(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,89942,(e,s,t)=>{s.exports=e.r(30755)},50009,e=>{"use strict";e.s(["default",()=>n]);var s=e.i(90678),t=e.i(68960),l=e.i(89942),a=e.i(148),r=e.i(22394);e.i(39255);var i=e.i(52707);function n(){var e,n;let[c,d]=(0,t.useState)(null),[o,m]=(0,t.useState)([]),[u,h]=(0,t.useState)(!0),x=(0,l.useRouter)(),f=null==(e=r.auth.currentUser)?void 0:e.uid,g=null==(n=r.auth.currentUser)?void 0:n.email;(0,t.useEffect)(()=>{f&&(async()=>{try{let e=(0,i.doc)(r.db,"stressLevels",f),s=await (0,i.getDoc)(e);s.exists()&&d(s.data().stressLevel);let t=(0,i.query)((0,i.collection)(r.db,"moodEntries"),(0,i.orderBy)("timestamp","desc"),(0,i.limit)(5)),l=(await (0,i.getDocs)(t)).docs.map(e=>e.data()).filter(e=>e.uid===f);m(l)}catch(e){console.error("Error fetching dashboard data:",e)}finally{h(!1)}})()},[f]);let p=e=>e<4?"😊":e<7?"😐":"😢";return f?u?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)("p",{children:"Loading..."})}):(0,s.jsxs)("div",{className:"min-h-screen p-8 bg-gray-100 flex flex-col gap-8",children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold",children:["Welcome, ",g]}),null!==c&&(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md flex flex-col items-center gap-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold",children:"Today's Stress Level"}),(0,s.jsx)("div",{className:"text-6xl",children:p(c)}),(0,s.jsx)(a.default,{id:"latest-gauge",nrOfLevels:20,colors:["#00FF00","#33FF00","#66FF00","#99FF00","#CCFF00","#FFFF00","#FFCC00","#FF9900","#FF6600","#FF3300","#FF0000"],percent:c/10,arcPadding:.02,needleColor:"#333333",needleBaseColor:"#333333",animate:!0,formatTextValue:()=>"".concat(c," / 10")})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Recent Stress Logs"}),0===o.length?(0,s.jsx)("p",{children:"No previous entries found."}):(0,s.jsx)("ul",{className:"space-y-2",children:o.map((e,t)=>(0,s.jsxs)("li",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-lg",children:[(0,s.jsx)("span",{children:new Date(1e3*e.timestamp.seconds).toLocaleDateString()}),(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[e.stressLevel," / 10 ",p(e.stressLevel)]})]},t))})]}),(0,s.jsx)("button",{onClick:()=>x.push("/student/stress-meter?uid=".concat(f)),className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-xl shadow-lg transition-transform transform hover:scale-105",children:"Log Today's Stress"})]}):(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)("p",{children:"Please login to access dashboard."})})}}]);