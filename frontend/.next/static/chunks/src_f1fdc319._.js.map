{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/vishalprajwal/Documents/mental-health/frontend/src/lib/firebase.js"],"sourcesContent":["import { initializeApp, getApps } from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\";\nimport { getFirestore } from \"firebase/firestore\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAE-k8r8F4II_5rBfTvh6BNzQDku7KE_Gg\",\n  authDomain: \"mental-health-87a9d.firebaseapp.com\",\n  projectId: \"mental-health-87a9d\",\n  storageBucket: \"mental-health-87a9d.firebasestorage.app\",\n  messagingSenderId: \"500649525001\",\n  appId: \"1:500649525001:web:60ff34cd3656aebcbe9dd8\",\n  measurementId: \"G-6EVCYEMBVS\"\n};\n\nlet app;\nif (!getApps().length) {\n  app = initializeApp(firebaseConfig);\n} else {\n  app = getApps()[0];\n}\n\nconst auth = getAuth(app);\nconst db = getFirestore(app);\n\nexport { app, auth, db };"],"names":[],"mappings":";;;;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;IACP,eAAe;AACjB;AAEA,IAAI;AACJ,IAAI,CAAC,IAAA,8KAAO,IAAG,MAAM,EAAE;IACrB,MAAM,IAAA,oLAAa,EAAC;AACtB,OAAO;IACL,MAAM,IAAA,8KAAO,GAAE,CAAC,EAAE;AACpB;AAEA,MAAM,OAAO,IAAA,wKAAO,EAAC;AACrB,MAAM,KAAK,IAAA,kLAAY,EAAC","debugId":null}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/vishalprajwal/Documents/mental-health/frontend/src/app/register/page.jsx"],"sourcesContent":["\"use client\";\nimport { useState } from 'react';\nimport { auth, db } from '@/lib/firebase';\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\nimport { doc, setDoc } from 'firebase/firestore';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\n\nexport default function Register() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [anonymousName, setAnonymousName] = useState('');\n  const [error, setError] = useState('');\n  const router = useRouter();\n\n  const handleRegister = async (e) => {\n    e.preventDefault();\n    setError('');\n    if (anonymousName.trim().length < 3) {\n      setError(\"Anonymous name must be at least 3 characters.\");\n      return;\n    }\n    try {\n      // Step 1: Create the user in Firebase Auth\n      const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n      const user = userCredential.user;\n\n      // Step 2: Save the anonymous username in Firestore\n      // We create a document in a 'users' collection with the user's UID as the ID\n      await setDoc(doc(db, \"users\", user.uid), {\n        anonymousName: anonymousName,\n        email: user.email // Store email for reference if needed, but don't show it\n      });\n\n      // Step 3: Redirect to the student dashboard\n      router.push('/student/dashboard');\n\n    } catch (err) {\n      if (err.code === 'auth/email-already-in-use') {\n        setError('This email address is already registered.');\n      } else {\n        setError('Failed to create an account. Please try again.');\n      }\n      console.error(\"Registration Error:\", err);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-100\">\n      <div className=\"p-8 bg-white rounded-xl shadow-lg w-full max-w-sm\">\n        <h1 className=\"text-3xl font-bold mb-2 text-center text-gray-800\">Create Your Account</h1>\n        <p className=\"text-gray-500 mb-8 text-center\">Your privacy is our priority.</p>\n        <form onSubmit={handleRegister}>\n          <input\n            type=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            placeholder=\"Email Address\"\n            required\n            className=\"w-full px-4 py-3 mb-4 bg-gray-100 border-2 border-transparent rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n          <input\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            placeholder=\"Password (6+ characters)\"\n            required\n            minLength=\"6\"\n            className=\"w-full px-4 py-3 mb-4 bg-gray-100 border-2 border-transparent rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n          <input\n            type=\"text\"\n            value={anonymousName}\n            onChange={(e) => setAnonymousName(e.target.value)}\n            placeholder=\"Choose a Unique Anonymous Name\"\n            required\n            className=\"w-full px-4 py-3 mb-6 bg-gray-100 border-2 border-transparent rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n          <button type=\"submit\" className=\"w-full bg-blue-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-600 transition\">\n            Sign Up\n          </button>\n          {error && <p className=\"text-red-500 text-sm mt-4 text-center\">{error}</p>}\n        </form>\n        <p className=\"text-center text-sm text-gray-500 mt-6\">\n          Already have an account?{' '}\n          <Link href=\"/login\" className=\"font-semibold text-blue-600 hover:underline\">\n            Sign In\n          </Link>\n        </p>\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;;;AANA;;;;;;;AAQe,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAC;IACnD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,SAAS,IAAA,kJAAS;IAExB,MAAM,iBAAiB,OAAO;QAC5B,EAAE,cAAc;QAChB,SAAS;QACT,IAAI,cAAc,IAAI,GAAG,MAAM,GAAG,GAAG;YACnC,SAAS;YACT;QACF;QACA,IAAI;YACF,2CAA2C;YAC3C,MAAM,iBAAiB,MAAM,IAAA,+LAA8B,EAAC,iIAAI,EAAE,OAAO;YACzE,MAAM,OAAO,eAAe,IAAI;YAEhC,mDAAmD;YACnD,6EAA6E;YAC7E,MAAM,IAAA,4KAAM,EAAC,IAAA,yKAAG,EAAC,+HAAE,EAAE,SAAS,KAAK,GAAG,GAAG;gBACvC,eAAe;gBACf,OAAO,KAAK,KAAK,CAAC,yDAAyD;YAC7E;YAEA,4CAA4C;YAC5C,OAAO,IAAI,CAAC;QAEd,EAAE,OAAO,KAAK;YACZ,IAAI,IAAI,IAAI,KAAK,6BAA6B;gBAC5C,SAAS;YACX,OAAO;gBACL,SAAS;YACX;YACA,QAAQ,KAAK,CAAC,uBAAuB;QACvC;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAAoD;;;;;;8BAClE,6LAAC;oBAAE,WAAU;8BAAiC;;;;;;8BAC9C,6LAAC;oBAAK,UAAU;;sCACd,6LAAC;4BACC,MAAK;4BACL,OAAO;4BACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;4BACxC,aAAY;4BACZ,QAAQ;4BACR,WAAU;;;;;;sCAEZ,6LAAC;4BACC,MAAK;4BACL,OAAO;4BACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;4BAC3C,aAAY;4BACZ,QAAQ;4BACR,WAAU;4BACV,WAAU;;;;;;sCAEZ,6LAAC;4BACC,MAAK;4BACL,OAAO;4BACP,UAAU,CAAC,IAAM,iBAAiB,EAAE,MAAM,CAAC,KAAK;4BAChD,aAAY;4BACZ,QAAQ;4BACR,WAAU;;;;;;sCAEZ,6LAAC;4BAAO,MAAK;4BAAS,WAAU;sCAA4F;;;;;;wBAG3H,uBAAS,6LAAC;4BAAE,WAAU;sCAAyC;;;;;;;;;;;;8BAElE,6LAAC;oBAAE,WAAU;;wBAAyC;wBAC3B;sCACzB,6LAAC,0KAAI;4BAAC,MAAK;4BAAS,WAAU;sCAA8C;;;;;;;;;;;;;;;;;;;;;;;AAOtF;GApFwB;;QAKP,kJAAS;;;KALF","debugId":null}}]
}